{"version":3,"sources":["polyfills.js","scripts.js"],"names":["Array","prototype","indexOf","searchElement","array","this","index","length","Function","bind","scope","callback","prepend","slice","call","arguments","Constructor","bound","apply","concat","String","trim","replace","onDocumentLoad","i","nodeParent","heads","document","querySelectorAll","parentNode","className","onclick","clickHeadCollapse","event","target","section","window","srcElement","addEventListener","replaceImages","addResponsiveDir","url","newUrl","split","position","console","log","join","changeImage","image","rollBack","rollBackLoad","src","hasSize","size","sizes","undefined","dataset","goBackTo","addSize","theUrl","ext","everythingElse","baseSrc","splice","width","im","images","offsetWidth","SMALL","MED","BIG","createParticles","canvas","querySelector","particles","push","CreateParticle","setInterval","animate","INTERVAL","randomIntBetween","start","finish","float","Math","random","round","buildRGBString","r","g","b","opac","red","NUMCOLORS","green","blue","color","PARTOPAC","x","WIDTH","y","HEIGHT","velocX","MAXVELOC","velocY","radius","MINSIZE","MAXSIZE","context","fillStyle","fillRect","drawParticle","moveParticle","part","halfRad","gradient","beginPath","createRadialGradient","addColorStop","arc","PI","fill","getContext","replaceQsa","newQuerySelectorAll","string","qsa"],"mappings":"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","file":"scripts.min.js","sourcesContent":["if (!Array.prototype.indexOf) {\n// Array.prototype.indexOf\nArray.prototype.indexOf = function indexOf(searchElement) {\n\tfor (var array = this, index = 0, length = array.length; index < length; ++index) {\n\t\tif (array[index] === searchElement) {\n\t\t\treturn index;\n\t\t}\n\t}\n\n\treturn -1;\n};\n\n}\nif (!Function.prototype.bind) {\n// Function.prototype.bind\nFunction.prototype.bind = function bind(scope) {\n\tvar\n\tcallback = this,\n\tprepend = Array.prototype.slice.call(arguments, 1),\n\tConstructor = function () {},\n\tbound = function () {\n\t\treturn callback.apply(\n\t\t\tthis instanceof Constructor && scope ? this : scope,\n\t\t\tprepend.concat(Array.prototype.slice.call(arguments, 0))\n\t\t);\n\t};\n\n\tConstructor.prototype = bound.prototype = callback.prototype;\n\n\treturn bound;\n};\n\n}\nif (!String.prototype.trim) {\n// String.prototype.trim\nString.prototype.trim = function trim() {\n\treturn this.replace(/^\\s+|\\s+$/g, '');\n};\n\n}\n","(function() {\n   \"use strict\";\n\n   window.addEventListener(\"load\", onDocumentLoad);\n\n   /* Set all collapsible sections to collapsed if they\n    * don't already have the 'expanded' class */\n   function onDocumentLoad() {\n      var i, nodeParent;\n      var heads = document.querySelectorAll(\"section > h2\");\n      for(i = 0; i < heads.length; i++) {\n         nodeParent = heads[i].parentNode;\n         if(nodeParent.className !== \"expanded\") {\n            nodeParent.className = \"collapsed\";\n         }\n         heads[i].onclick = clickHeadCollapse;\n      }\n   }\n\n   /* Switch expanded/collapsed section class on click */\n   function clickHeadCollapse(event) {\n      var target, section;\n      event = event? event : window.event;\n      target = event.target || event.srcElement;\n      section = target.parentNode;\n      if(section.className === \"collapsed\") {\n         section.className = \"expanded\";\n      } else {\n         section.className = \"collapsed\";\n      }\n   }\n}());\n\n/*\n * This script handles responsive/conditional loading of\n * image files. * If <img> tags are given data-sizes\n * attributes, then on load and resize the image will\n * be replaced with the relavent image based on the pixel\n * sizes (width of the image, not the window) defined\n * below, so long as the relavent file exists.\n *\n * For example; if the tag attribute contains 'MEDIUM,SMALL'\n * then if the window is resized in such a way that the\n * image is less than 300px wide, the image file\n * fileName-SMALL.jpg will be swapped in, so long as the\n * file exists. Once the image becomes bigger, but less\n * than 500px,fileName-SMALL.jpg will be swapped in,\n * so long as it exists.\n */\n\n(function() {\n   \"use strict\";\n\n   var SMALL = 300;\n   var MED = 500;\n   var BIG = 1000;\n   var images = document.querySelectorAll(\"img\");\n\n   window.addEventListener(\"load\", replaceImages);\n   window.addEventListener(\"resize\", replaceImages);\n\n   function replaceImages() {\n      var i, width, im;\n\n      for(i = 0; i < images.length; i++) {\n         im = images[i];\n         width = im.offsetWidth;\n\n         if(width <= SMALL && hasSize(im, \"SMALL\")) {\n            changeImage(im, addSize(im, \"SMALL\"));\n         } else if(width <= MED && hasSize(im, \"MEDIUM\")) {\n            changeImage(im, addSize(im, \"MEDIUM\"));\n         } else if(width <=  BIG && hasSize(im, \"BIG\")) {\n            changeImage(im, addSize(im, \"BIG\"));\n         }\n      }\n\n      function addResponsiveDir(url) {\n         var newUrl = url.split(\"/\");\n         var position = newUrl.indexOf(\"images\");\n         if(position != -1) {\n            newUrl[position] = \"images-resp\";\n         }\n         console.log(newUrl);\n         return newUrl.join(\"/\");\n      }\n\n      function changeImage(image, url) {\n         var rollBack = rollBackLoad.bind(null,\n                                          image,\n                                          image.src);\n         var newUrl = addResponsiveDir(url);\n         image.addEventListener(\"error\", rollBack);\n         image.src = newUrl;\n      }\n\n      /*\n       * Does the img tag contain the value contained\n       * in 'size' in its 'data-sizes' attribute?\n       */\n      function hasSize(image, size) {\n         var sizes, i;\n         if(image.dataset.sizes !== undefined) {\n            sizes = image.dataset.sizes.split(\",\");\n            for(i = 0; i < sizes.length; i++) {\n               if(sizes[i].trim() === size) {\n                  return true;\n               }\n            }\n         }\n         return false;\n      }\n\n      function rollBackLoad(image, goBackTo) {\n         image.src = goBackTo;\n      }\n\n      /*\n       * Takes the image url and a 'size' string\n       * (such as 'BIG') and adds the size string\n       * to the end of the file name before the\n       * extension. Also saves the original filename\n       * into the 'data-baseSrc' attribute\n       */\n      function addSize(image, size) {\n         var theUrl, ext, everythingElse;\n\n         if(image.dataset.baseSrc === undefined) {\n            theUrl = image.src.split(\".\");\n            image.dataset.baseSrc = image.src;\n         } else {\n            theUrl = image.dataset.baseSrc.split(\".\");\n         }\n         ext = theUrl.splice(theUrl.length - 1, 1);\n         everythingElse = theUrl.join(\".\");\n         return everythingElse + \"-\" + size + \".\" + ext;\n      }\n   }\n}());\n\n/*\n * Simple particle system\n */\n(function() {\n   \"use strict\";\n\n   var canvas, context;\n\n   var canvas  = document.querySelector(\"canvas\");\n   var context = canvas.getContext(\"2d\");\n\n   /* Constants */\n   var WIDTH      = 100;\n   var HEIGHT     = 50;\n   var MAXVELOC   = 10;\n   var NUMCOLORS  = 255;\n   var PARTOPAC   = 0.5;\n   var MAXSIZE    = 3;\n   var MINSIZE    = 1;\n   var INTERVAL   = 33;\n   var particles  = [];\n\n   function createParticles() {\n      var i;\n      canvas = document.querySelector(\"canvas\");\n      if(canvas !== null) {\n         for(i = 0; i < 50; i++) {\n            particles.push(new CreateParticle());\n         }\n      }\n      setInterval(animate, INTERVAL);\n   }\n\n   function randomIntBetween(start, finish) {\n      var float = start + Math.random() * (finish - start);\n      return Math.round(float);\n   }\n\n   function buildRGBString(r, g, b, opac) {\n      return \"rgba(\" + r + \", \" +\n                       g + \", \" +\n                       b + \", \" +\n                    opac + \")\";\n   }\n\n   function CreateParticle() {\n      var red     = randomIntBetween(0, NUMCOLORS);\n      var green   = randomIntBetween(0, NUMCOLORS);\n      var blue    = randomIntBetween(0, NUMCOLORS);\n      this.color  = buildRGBString(red, green, blue, PARTOPAC);\n      this.x      = randomIntBetween(0, WIDTH);\n      this.y      = randomIntBetween(0, HEIGHT);\n      this.velocX = randomIntBetween(-MAXVELOC, MAXVELOC);\n      this.velocY = randomIntBetween(-MAXVELOC, MAXVELOC);\n      this.radius = randomIntBetween(MINSIZE, MAXSIZE);\n   }\n\n   function animate() {\n      var i;\n      context.fillStyle = \"white\";\n      context.fillRect(0, 0, WIDTH, HEIGHT);\n      for(i = 0; i < particles.length; i++) {\n         drawParticle(particles[i]);\n         moveParticle(particles[i]);\n      }\n   }\n\n   function moveParticle(part) {\n      var halfRad = part.radius / 2;\n      part.x += part.velocX;\n      part.y += part.velocY;\n\n      if(part.x < -halfRad) {\n         part.x += WIDTH + halfRad;\n      }\n      if(part.y < -halfRad) {\n         part.y += HEIGHT + halfRad;\n      }\n      if(part.x > WIDTH + halfRad) {\n         part.x = -halfRad;\n      }\n      if(part.y > HEIGHT + halfRad) {\n         part.y = -halfRad;\n      }\n   }\n\n   function drawParticle(part) {\n      var gradient;\n      context.beginPath();\n      gradient = context.createRadialGradient(part.x,\n                                              part.y,\n                                              0,\n                                              part.x,\n                                              part.y,\n                                              part.radius);\n      gradient.addColorStop(0, \"black\");\n      gradient.addColorStop(1, part.color);\n      context.fillStyle = gradient;\n      context.arc(part.x, part.y, part.radius,\n                  Math.PI * 2, false);\n      context.fill();\n   }\n\n   createParticles();\n}());\n\n/*\n * Simple shim which intercepts QuerySelectorAll\n * and converts the returning nodelist to an array\n */\n\n(function() {\n   \"use strict\";\n\n   window.addEventListener(\"load\", replaceQsa);\n\n   function replaceQsa() {\n      document.querySelectorAll = (function() {\n         var qsa;\n\n         if(typeof document.querySelectorAll === \"function\") {\n            qsa = document.querySelectorAll.bind(document);\n         }\n\n         function newQuerySelectorAll(string) {\n            return Array.prototype.slice.call(qsa(string));\n         }\n\n         if(qsa !== undefined) {\n            return newQuerySelectorAll;\n         } else {\n            return document.querySelectorAll;\n         }\n      }());\n   }\n}());\n"],"sourceRoot":"/source/"}